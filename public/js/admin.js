// Generated by CoffeeScript 1.10.0
(function() {
  var getData, populateCheckboxes;

  $(function() {
    getData();
  });

  getData = function() {
    $('.populate').each(function(i, container) {
      var model, type;
      model = $(container).data('pop-model');
      type = $(container).data('pop-type');
      $.ajax({
        url: '/api/' + model + '/all/json',
        error: function(jqXHR, status, error) {
          console.log(jqXHR, status, error);
        },
        success: function(objects, status, jqXHR) {
          switch (type) {
            case 'checkboxes':
              populateCheckboxes;
          }
          populateCheckboxes(container, objects);
        }
      });
    });
  };

  populateCheckboxes = function(container, items) {
    $(items).each(function(i, item) {
      var $clone, $input, $label;
      $clone = $(container).find('.sample').clone().removeClass('sample');
      $label = $clone.find('span');
      $input = $clone.find('input');
      $label.attr('name', item.slug).text(item.name);
      $input.attr('name', item.slug);
      $clone.attr('data-slug', item.slug).appendTo(container);
    });
  };

}).call(this);
